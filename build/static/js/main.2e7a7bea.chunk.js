(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{10:function(e,t,c){e.exports={"checkoutMainBlock--EL":"CheckoutMainComp_checkoutMainBlock--EL__1MdKG","checkMainBlockHeader--EL":"CheckoutMainComp_checkMainBlockHeader--EL__3VcoV","checkout_CheckIcon--EL":"CheckoutMainComp_checkout_CheckIcon--EL__J7Rhm","checkoutStepsHeader--CONTAINER":"CheckoutMainComp_checkoutStepsHeader--CONTAINER__2wFq0","checkoutStep--EL":"CheckoutMainComp_checkoutStep--EL__24LKl","checkoutStepNumber--EL":"CheckoutMainComp_checkoutStepNumber--EL__t8PEU","checkoutStepTitle--EL":"CheckoutMainComp_checkoutStepTitle--EL__RBSem"}},11:function(e,t,c){e.exports={"cartSection--EL":"Cart_cartSection--EL__1yOLC","cart_header--EL":"Cart_cart_header--EL__1pRxj","cartItems--CONTAINER":"Cart_cartItems--CONTAINER__1gB28","totalPrice--WRAPPER":"Cart_totalPrice--WRAPPER__1RaQO","totalPrice--EL":"Cart_totalPrice--EL__2O37h","ctasEl--CONTAINER":"Cart_ctasEl--CONTAINER__2h4f1","emptyCartBtn--EL":"Cart_emptyCartBtn--EL__9TndX","checkoutBtn--EL":"Cart_checkoutBtn--EL__3YtXm","emptycartTypos--CONTAINER":"Cart_emptycartTypos--CONTAINER__1gGIM"}},12:function(e,t,c){e.exports={"shippingPaymentDetailsBlock--EL":"PaymentDetailsStep_shippingPaymentDetailsBlock--EL__dU946","finalCartItems--CONTAINER":"PaymentDetailsStep_finalCartItems--CONTAINER__2__oH","shippingItemBlock--EL":"PaymentDetailsStep_shippingItemBlock--EL__CXnIb","shippingItemTypos--WRAPPER":"PaymentDetailsStep_shippingItemTypos--WRAPPER__3dEPY","shippingItemTotalPrice--EL":"PaymentDetailsStep_shippingItemTotalPrice--EL__1Sh00","totalCartPrice--CONTAINER":"PaymentDetailsStep_totalCartPrice--CONTAINER__35tr7","totalCartPrice--EL":"PaymentDetailsStep_totalCartPrice--EL__tt8ip"}},13:function(e,t,c){e.exports={"cartItem--EL":"CartItemCard_cartItem--EL__3-jNp","cartItemImg--CONTAINER":"CartItemCard_cartItemImg--CONTAINER__3dlpQ","cartItemContent--WRAPPER":"CartItemCard_cartItemContent--WRAPPER__qIRJX","cartItemTypos--CONTAINER":"CartItemCard_cartItemTypos--CONTAINER__3MqP6",cartItemAmount:"CartItemCard_cartItemAmount__HD1xz","removeCartItem--BTN":"CartItemCard_removeCartItem--BTN__1Z3H3"}},14:function(e,t,c){e.exports={"Navbar--EL":"Navbar_Navbar--EL__1L62N","navbar_content--WRAPPER":"Navbar_navbar_content--WRAPPER__1q9uc","navLink--EL":"Navbar_navLink--EL__qbM_d","cartLink--EL":"Navbar_cartLink--EL__1bT3i","selectedProductLength--EL":"Navbar_selectedProductLength--EL__3Laat"}},17:function(e,t,c){e.exports={"productCart--EL":"Product_productCart--EL__10wjE","productImg--EL":"Product_productImg--EL__1aaO3","productDetails--CONTAINER":"Product_productDetails--CONTAINER__1i5aZ","productDetailsTypos--EL":"Product_productDetailsTypos--EL__3MwiM","productDetailsHeader--EL":"Product_productDetailsHeader--EL__1cDCN"}},35:function(e,t,c){e.exports={"shippingDetailsTypos--WRAPPER":"SuccessfulOrderStep_shippingDetailsTypos--WRAPPER__1hj0k"}},36:function(e,t,c){e.exports={"checkoutSection--EL":"Checkout_checkoutSection--EL__1X-NH"}},37:function(e,t,c){e.exports={"products--CONTAINER":"ProductsList_products--CONTAINER__tJOpU"}},5:function(e,t,c){e.exports={"formInputs--WRAPPER":"ShippingAddressStep_formInputs--WRAPPER__fggn0","shippingInputBlock--EL":"ShippingAddressStep_shippingInputBlock--EL__1KBQh","shippingDetailsSelectiong--CONTAINER":"ShippingAddressStep_shippingDetailsSelectiong--CONTAINER__3Z8MD","shippingInfos_input--EL":"ShippingAddressStep_shippingInfos_input--EL__3mIbp"}},76:function(e,t,c){},77:function(e,t,c){"use strict";c.r(t);var n=c(32),a=c.n(n),s=c(9),r=c(3),i=c.n(r),o=c(6),l=c(21),u=c(4),p=c(1),d=c(33),h=new(c.n(d).a)("pk_37749a34fac936124a261f8b221d5a9274ca699995d3e"),j=c(0),m=Object(p.createContext)(null),b=function(e){var t=Object(p.useState)([]),c=Object(u.a)(t,2),n=c[0],a=c[1],s=Object(p.useCallback)((function(e){a((function(){return e.line_items.map((function(e){return{productId:e.product_id,itemId:e.id,amount:e.quantity,name:e.product_name,img:e.image.url,price:e.price.raw}}))}))}),[]),r=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a([]),e.next=3,h.cart.refresh();case 3:t(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(m.Provider,{value:{cartProducts:n,decreaseProductHandler:function(e){a((function(t){return t.map((function(t){return t.itemId===e&&(t.amount--,h.cart.update(e,{quantity:t.amount}).then((function(e){return console.log(e)}))),t}))}))},increaseProductHandler:function(e){h.cart.add(e,1).then((function(e){return console.log(e)})),!n.length||n.every((function(t){return t.productId!==e}))?a((function(t){var c=Object(l.a)(t);return c.push({id:e,amount:1}),c})):(n.length||n.some((function(t){return t.productId===e})))&&a((function(t){return Object(l.a)(t).map((function(t){return t.productId===e&&t.amount++,t}))}))},removeFromCartHandler:function(e){h.cart.remove(e).then((function(e){return console.log(e)})),a((function(t){return t.filter((function(t){return t.itemId!==e}))}))},loadCartItemsHandler:s,emptyCartHandler:function(){h.cart.empty().then((function(e){return console.log(e)})),a([])},refreshCartDataHandler:r},children:e.children})},O=(c(76),c(2)),x=Object(p.createContext)({checkoutTokenObj:null,shippingCountries:null,shippingCountrySubdivisions:null,shippingCountryOptions:null,shippingDetails:null,order:null,generateCheckoutTokenHandler:function(){}}),N=function(e){var t=Object(p.useState)(null),c=Object(u.a)(t,2),n=c[0],a=c[1],s=Object(p.useState)(null),r=Object(u.a)(s,2),l=r[0],d=r[1],b=Object(p.useState)(null),O=Object(u.a)(b,2),N=O[0],g=O[1],E=Object(p.useState)(null),_=Object(u.a)(E,2),C=_[0],f=_[1],v=Object(p.useState)(null),I=Object(u.a)(v,2),k=I[0],L=I[1],y=Object(p.useState)(null),P=Object(u.a)(y,2),R=P[0],S=P[1],T=Object(p.useContext)(m).refreshCartDataHandler,A=Object(p.useCallback)(Object(o.a)(i.a.mark((function e(){var t,c,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(h.cart.id()),e.next=3,h.checkout.generateTokenFrom("cart",h.cart.id());case 3:return t=e.sent,e.next=6,h.services.localeListShippingCountries(t.id);case 6:return c=e.sent,e.next=9,h.services.localeListShippingSubdivisions(t.id,"AF");case 9:return n=e.sent,e.next=12,h.checkout.getShippingOptions(t.id,{country:"AF"});case 12:s=e.sent,console.log("///////////////////////"),console.log(t),g(n),a(t),d(c),f(s);case 19:case"end":return e.stop()}}),e)}))),[]),B=Object(p.useCallback)(function(){var e=Object(o.a)(i.a.mark((function e(t){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.services.localeListShippingSubdivisions(n.id,t);case 2:c=e.sent,g(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]),D=Object(p.useCallback)(function(){var e=Object(o.a)(i.a.mark((function e(t){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.checkout.getShippingOptions(n.id,{country:t});case 2:c=e.sent,f(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]),H=function(){var e=Object(o.a)(i.a.mark((function e(t,c){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("--------",n.id),e.next=4,h.checkout.capture(n.id,t);case 4:a=e.sent,console.log("//////////////////////"),console.log(a),S(a),T(c),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("-------------------- ERROR"),console.log(e.t0.data.error);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,c){return e.apply(this,arguments)}}();return Object(j.jsx)(x.Provider,{value:{checkoutTokenObj:n,shippingCountries:l,shippingCountrySubdivisions:N,countryShippingOptions:C,shippingDetails:k,order:R,generateCheckoutTokenHandler:A,countrySubdivisionsHandler:B,shippingMethodHandler:D,submitShippingDetailsHandler:function(e){L(e)},captureOrderHandler:H},children:e.children})},g=c(14),E=c.n(g),_=function(e){var t=e.showCartBtn,c=Object(p.useContext)(m).cartProducts.reduce((function(e,t){return e+t.amount}),0);return Object(j.jsx)("nav",{className:"mainContentLayout ".concat(E.a["Navbar--EL"]),children:Object(j.jsxs)("div",{className:E.a["navbar_content--WRAPPER"],children:[Object(j.jsxs)(s.b,{className:E.a["navLink--EL"],to:"/",children:[Object(j.jsx)("img",{src:"".concat("","/assets/commerce.png"),alt:"main logo"}),"Ecommerce"]}),t&&Object(j.jsxs)(s.b,{to:"/cart",className:"".concat(E.a["cartLink--EL"]," ").concat(E.a["navLink--EL"]),children:[Object(j.jsx)("img",{src:"".concat("","/assets/icons/shopping-cart.png"),alt:"cart logo"}),c?Object(j.jsx)("span",{className:E.a["selectedProductLength--EL"],children:c}):""]})]})})},C=c(16),f=c(34),v=Object(f.a)("pk_test_51J7LH8K2J9IcJX9wqutIuVZ8iOQN0ToEyxSYtke5U2k1MGaWc1EufaUXa38Rv7Ru6xRC33254nqoQaAmKOdcfcOI00vlccXNVn"),I=function(e){return Object(j.jsx)(C.Elements,{stripe:v,children:Object(j.jsx)(C.ElementsConsumer,{children:e.children})})},k=c(12),L=c.n(k),y=function(e){var t=e.changeCheckoutStepHandler,c=Object(p.useContext)(x),n=c.checkoutTokenObj,a=c.captureOrderHandler,s=c.shippingDetails,r=n.live.total.raw,l=function(){var e=Object(o.a)(i.a.mark((function e(c,n,r){var o,l,u,p,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),r&&n){e.next=3;break}return e.abrupt("return");case 3:return o=n.getElement(C.CardElement),e.next=6,r.createPaymentMethod({type:"card",card:o});case 6:if(l=e.sent,u=l.error,p=l.paymentMethod,!u){e.next=12;break}return console.log(u.message),e.abrupt("return");case 12:console.log("--------paymentMethod",p),console.log(s.address.subdivisions),d={line_items:s.items_list,customer:{firstname:s.customer.firstName,lastname:s.customer.lastName,email:s.customer.email},shipping:{name:"Primary",street:s.address.address_line,town_city:s.address.city,county_state:s.address.subdivisions,postal_zip_code:s.address.postal_zip_code,country:s.address.country},fulfillment:{shipping_method:s.shipping_option.id},payment:{gateway:"test_gateway",card:{number:"4242 4242 4242 4242",expiry_month:"01",expiry_year:"2029",cvc:"123",postal_zip_code:"94103"}}},a(d,t);case 16:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"shippingDetailsContent--CONTAINER ".concat(L.a["shippingPaymentDetailsBlock--EL"]),children:[Object(j.jsx)("h2",{className:"shippingDetails_header--EL",children:"Order summary"}),Object(j.jsxs)("div",{className:L.a["finalCartItemsDetailsBlock--EL"],children:[Object(j.jsx)("div",{className:L.a["finalCartItems--CONTAINER"],children:n.live.line_items.map((function(e,t){return Object(j.jsxs)("div",{className:L.a["shippingItemBlock--EL"],children:[Object(j.jsxs)("div",{className:L.a["shippingItemTypos--WRAPPER"],children:[Object(j.jsx)("h5",{children:e.name}),Object(j.jsxs)("span",{children:["Quantity: ",e.quantity]})]}),Object(j.jsxs)("span",{className:L.a["shippingItemTotalPrice--EL"],children:["$",e.price.raw]})]},t)}))}),Object(j.jsxs)("div",{className:L.a["totalCartPrice--CONTAINER"],children:[Object(j.jsx)("h4",{children:"total"}),Object(j.jsxs)("span",{className:L.a["totalCartPrice--EL"],children:["$",r]})]})]}),Object(j.jsx)("hr",{}),Object(j.jsxs)("div",{className:L.a["shippingPaymentMethod--CONTAINER"],children:[Object(j.jsx)("h2",{className:"shippingDetails_header--EL",children:"Payment method"}),Object(j.jsx)(I,{children:function(e){var c=e.elements,n=e.stripe;return Object(j.jsxs)("form",{onSubmit:function(e){return l(e,c,n)},children:[Object(j.jsx)(C.CardElement,{}),Object(j.jsxs)("div",{className:"shippingDetailsCtaBtns--CONTAINER",children:[Object(j.jsx)("button",{type:"submit",className:"backBtn--EL",onClick:function(){return t(!1)},children:"back"}),Object(j.jsxs)("button",{type:"submit",className:"nextBtn--EL",disabled:!n,children:["pay $",r]})]})]})}})]})]})},P=c(5),R=c.n(P),S=!0,T=function(e){var t=Object(p.useContext)(x),c=t.checkoutTokenObj,n=t.shippingCountries,a=t.shippingCountrySubdivisions,r=t.countryShippingOptions,i=t.countrySubdivisionsHandler,o=t.shippingMethodHandler,l=t.submitShippingDetailsHandler,d=Object(p.useState)("AF"),h=Object(u.a)(d,2),m=h[0],b=h[1],O=Object(p.useCallback)((function(){return document.getElementById("countries").innerHTML=n.html}),[n.html]);return Object(p.useEffect)((function(){S?S=!1:(i(m),o(m))}),[m,i,o]),Object(p.useEffect)((function(){a&&(document.getElementById("countrySubdivisions").innerHTML=a.html),r&&function(){var e=r.map((function(e){var t="".concat(e.description," - (").concat(e.price.formatted_with_symbol,")");return'<option value="'.concat(e.description,'">').concat(t,"</option>")})).join("");document.getElementById("shippingOptions").innerHTML=e}()})),Object(p.useEffect)((function(){O()}),[O]),Object(j.jsxs)("div",{className:"shippingDetailsContent--CONTAINER",children:[Object(j.jsx)("h2",{className:"shippingDetails_header--EL",children:"Shipping address"}),Object(j.jsxs)("form",{className:R.a["shippingDetails_form--EL"],onSubmit:function(t){t.preventDefault();var n=c.shipping_methods.find((function(e){return e.description===t.target.shippingOptions.value})),a={firstName:t.target.fName.value,lastName:t.target.lName.value,email:t.target.email.value},s={country:t.target.countries.value,subdivisions:t.target.countrySubdivisions.value,city:t.target.city.value,address_line:t.target.addressLine.value,postal_zip_code:t.target.postalCode.value},r={items_list:c.live.line_items,customer:a,address:s,shipping_option:n};l(r),e.changeCheckoutStepHandler(!0)},children:[Object(j.jsxs)("div",{className:R.a["formInputs--WRAPPER"],children:[Object(j.jsxs)("div",{className:R.a["shippingInputBlock--EL"],children:[Object(j.jsx)("input",{type:"text",placeholder:"shippingInputPlaceholder",className:R.a["shippingInfos_input--EL"],name:"fName",id:"fName",required:!0}),Object(j.jsx)("label",{htmlFor:"fName",children:"First name*"})]}),Object(j.jsxs)("div",{className:R.a["shippingInputBlock--EL"],children:[Object(j.jsx)("input",{type:"text",placeholder:"shippingInputPlaceholder",className:R.a["shippingInfos_input--EL"],name:"lName",id:"lName",required:!0}),Object(j.jsx)("label",{htmlFor:"lName",children:"Last name *"})]}),Object(j.jsxs)("div",{className:R.a["shippingInputBlock--EL"],children:[Object(j.jsx)("input",{type:"text",placeholder:"shippingInputPlaceholder",className:R.a["shippingInfos_input--EL"],name:"addressLine",id:"addressLine",required:!0}),Object(j.jsx)("label",{htmlFor:"addressLine",children:"Address line *"})]}),Object(j.jsxs)("div",{className:R.a["shippingInputBlock--EL"],children:[Object(j.jsx)("input",{type:"email",placeholder:"shippingInputPlaceholder",className:R.a["shippingInfos_input--EL"],name:"email",id:"email",required:!0}),Object(j.jsx)("label",{htmlFor:"email",children:"Email *"})]}),Object(j.jsxs)("div",{className:R.a["shippingInputBlock--EL"],children:[Object(j.jsx)("input",{type:"text",placeholder:"shippingInputPlaceholder",className:R.a["shippingInfos_input--EL"],name:"city",id:"city",required:!0}),Object(j.jsx)("label",{htmlFor:"city",children:"City *"})]}),Object(j.jsxs)("div",{className:R.a["shippingInputBlock--EL"],children:[Object(j.jsx)("input",{type:"number",placeholder:"shippingInputPlaceholder",className:R.a["shippingInfos_input--EL"],name:"postalCode",id:"postalCode",required:!0}),Object(j.jsx)("label",{htmlFor:"postalCode",children:"Zip / Postal code *"})]}),Object(j.jsxs)("div",{className:"".concat(R.a["shippingInputBlock--EL"]," ").concat(R.a["shippingDetailsSelectiong--CONTAINER"]),children:[Object(j.jsx)("span",{children:"Shipping Country"}),Object(j.jsx)("select",{name:"countries",id:"countries",onChange:function(e){console.log("country Changed"),b(e.target.value)}})]}),Object(j.jsxs)("div",{className:"".concat(R.a["shippingInputBlock--EL"]," ").concat(R.a["shippingDetailsSelectiong--CONTAINER"]),children:[Object(j.jsx)("span",{children:"Shipping Subdivision"}),Object(j.jsx)("select",{name:"countrySubdivisions",id:"countrySubdivisions"})]}),Object(j.jsxs)("div",{className:"".concat(R.a["shippingInputBlock--EL"]," ").concat(R.a["shippingDetailsSelectiong--CONTAINER"]),children:[Object(j.jsx)("span",{children:"Shipping Options"}),Object(j.jsx)("select",{name:"shippingOptions",id:"shippingOptions"})]})]}),Object(j.jsxs)("div",{className:"shippingDetailsCtaBtns--CONTAINER",children:[Object(j.jsx)(s.b,{to:"/cart",className:"backBtn--EL",children:"back to cart"}),Object(j.jsx)("button",{type:"submit",className:"nextBtn--EL",children:"next"})]})]})]})},A=c(35),B=c.n(A),D=function(){var e=Object(p.useContext)(x).order;return Object(j.jsxs)("div",{className:"shippingDetailsContent--CONTAINER",children:[Object(j.jsxs)("div",{className:B.a["shippingDetailsTypos--WRAPPER"],children:[Object(j.jsxs)("h2",{children:["Thank you for the purchase, ","".concat(e.customer.firstname," ").concat(e.customer.lastname)]}),Object(j.jsxs)("p",{children:["Order ref: ",e.customer_reference]})]}),Object(j.jsx)("div",{className:"shippingDetailsCtaBtns--CONTAINER",children:Object(j.jsx)(s.b,{className:"backBtn--EL",to:"/",children:"Back To Home"})})]})},H=c(10),w=c.n(H),M=function(){var e=Object(p.useState)(0),t=Object(u.a)(e,2),c=t[0],n=t[1],a=Object(p.useContext)(x),s=a.checkoutTokenObj,r=a.shippingCountries,i=function(e){n(e?function(e){return e+1}:function(e){return e-1})};return Object(j.jsxs)("div",{className:w.a["checkoutMainBlock--EL"],children:[Object(j.jsxs)("div",{className:w.a["checkMainBlockHeader--EL"],children:[Object(j.jsx)("h2",{children:"checkout"}),Object(j.jsxs)("div",{className:w.a["checkoutStepsHeader--CONTAINER"],children:[Object(j.jsxs)("div",{className:w.a["checkoutStep--EL"],children:[Object(j.jsx)("span",{className:w.a["checkoutStepNumber--EL"],children:c?Object(j.jsx)("img",{className:w.a["checkout_CheckIcon--EL"],src:"".concat("","assets/icons/check.png"),alt:"check icon"}):1}),Object(j.jsx)("span",{className:w.a["checkoutStepTitle--EL"],children:"Shipping address"})]}),Object(j.jsx)("hr",{}),Object(j.jsxs)("div",{className:w.a["checkoutStep--EL"],"data-active":!!c,children:[Object(j.jsx)("span",{className:w.a["checkoutStepNumber--EL"],children:c<=1?2:Object(j.jsx)("img",{className:w.a["checkout_CheckIcon--EL"],src:"".concat("","assets/icons/check.png"),alt:"check icon"})}),Object(j.jsx)("span",{className:"".concat(w.a["checkoutStepTitle--EL"]," ").concat(1===c&&w.a.paymentStepIsActive),children:"Payment details"})]})]})]}),c?1===c?Object(j.jsx)(y,{changeCheckoutStepHandler:i}):Object(j.jsx)(D,{}):!!s&&!!r&&Object(j.jsx)(T,{changeCheckoutStepHandler:i})]})},F=c(36),W=c.n(F),q=function(){var e=Object(p.useContext)(x).generateCheckoutTokenHandler,t=Object(p.useContext)(m).cartProducts,c=Object(O.f)();return Object(p.useEffect)((function(){t.length?e():(console.log("--------- Redirect To Home"),c("/",{replace:!0}))}),[e]),Object(j.jsxs)(p.Fragment,{children:[Object(j.jsx)(_,{showCartBtn:!1}),Object(j.jsx)("section",{className:W.a["checkoutSection--EL"],children:Object(j.jsx)(M,{})})]})},J=c(13),X=c.n(J),Q=function(e){var t=e.cartItemInfos,c=Object(p.useContext)(m),n=c.removeFromCartHandler,a=c.increaseProductHandler,s=c.decreaseProductHandler;return Object(j.jsxs)("div",{className:X.a["cartItem--EL"],children:[Object(j.jsx)("div",{className:X.a["cartItemImg--CONTAINER"],children:Object(j.jsx)("img",{src:t.img,alt:"cart item"})}),Object(j.jsxs)("div",{className:X.a["cartItemContent--WRAPPER"],children:[Object(j.jsxs)("div",{className:X.a["cartItemTypos--CONTAINER"],children:[Object(j.jsx)("h2",{children:t.name}),Object(j.jsxs)("h3",{children:["$",t.price]})]}),Object(j.jsxs)("div",{className:X.a["cartItemTypos--CONTAINER"],children:[Object(j.jsxs)("div",{className:X.a.cartItemAmount,children:[Object(j.jsx)("button",{type:"button",onClick:function(){s(t.itemId)},children:"-"}),Object(j.jsx)("span",{children:t.amount}),Object(j.jsx)("button",{type:"button",onClick:function(){a(t.productId)},children:"+"})]}),Object(j.jsx)("button",{type:"button",className:X.a["removeCartItem--BTN"],onClick:function(){n(t.itemId)},children:"remove"})]})]})]})},z=c(11),K=c.n(z),U=function(){var e=Object(p.useContext)(m),t=e.loadCartItemsHandler,c=e.cartProducts,n=e.emptyCartHandler,a=c.reduce((function(e,t){return e+t.price*t.amount}),0).toFixed(2),r=Object(O.f)(),l=Object(p.useCallback)(Object(o.a)(i.a.mark((function e(){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.cart.retrieve();case 2:c=e.sent,t(c,!1);case 4:case"end":return e.stop()}}),e)}))),[t]);return Object(p.useEffect)((function(){l()}),[l]),Object(j.jsxs)(p.Fragment,{children:[Object(j.jsx)(_,{showCartBtn:!1}),Object(j.jsx)("section",{className:"mainContentLayout ".concat(K.a["cartSection--EL"]),children:c.length?c.every((function(e){return e.name}))&&Object(j.jsxs)("div",{className:K.a["cartMainBlock--CONTAINER"],children:[Object(j.jsx)("h2",{className:K.a["cart_header--EL"],children:"your shopping cart"}),Object(j.jsx)("div",{className:K.a["cartItems--CONTAINER"],children:!!c.length&&c.map((function(e,t){return!!e.amount&&Object(j.jsx)(Q,{cartItemInfos:e},t)}))}),Object(j.jsxs)("div",{className:K.a["totalPrice--WRAPPER"],children:[Object(j.jsxs)("span",{className:K.a["totalPrice--EL"],children:["Subtotal:$",a]}),Object(j.jsxs)("div",{className:K.a["ctasEl--CONTAINER"],children:[Object(j.jsx)("button",{type:"button",className:K.a["emptyCartBtn--EL"],onClick:function(){n()},children:"empty cart"}),Object(j.jsx)("button",{type:"button",className:K.a["checkoutBtn--EL"],onClick:function(){return r("/checkout",{replace:!0})},children:"checkout"})]})]})]}):Object(j.jsxs)("div",{className:K.a["emptycartTypos--CONTAINER"],children:[Object(j.jsx)("h2",{children:"Your Shopping Cart"}),Object(j.jsxs)("p",{children:["You have no items in your shopping cart, ",Object(j.jsx)(s.b,{to:"/",children:"start adding some!"})]})]})})]})},Y=c(37),Z=c.n(Y),$=c(17),V=c.n($),G=function(e){var t=e.id,c=e.productName,n=e.productPrice,a=e.productDesc,s=e.productImg,r=Object(p.useContext)(m);return Object(j.jsxs)("div",{className:V.a["productCart--EL"],children:[Object(j.jsx)("div",{className:V.a["productImg--EL"],children:Object(j.jsx)("img",{src:s,alt:"product look"})}),Object(j.jsxs)("div",{className:V.a["productDetails--CONTAINER"],children:[Object(j.jsxs)("div",{className:V.a["productDetailsTypos--EL"],children:[Object(j.jsxs)("div",{className:V.a["productDetailsHeader--EL"],children:[Object(j.jsx)("h3",{children:c}),Object(j.jsx)("h3",{children:n})]}),Object(j.jsx)("p",{children:a.replace(/<p>/g,"").replace("</p>","")})]}),Object(j.jsx)("button",{type:"button",onClick:function(){r.increaseProductHandler(t)},children:Object(j.jsx)("img",{src:"".concat("","/assets/icons/add-to-cart.png"),alt:"add to cart"})})]})]})},ee=function(e){var t=e.productsArr;return Object(j.jsx)("div",{className:Z.a["products--CONTAINER"],children:!!t.length&&t.map((function(e){return Object(j.jsx)(G,{id:e.id,productName:e.name,productDesc:e.description,productPrice:e.price.formatted_with_symbol,productImg:e.image.url},e.id)}))})},te=function(e){var t=e.productsList,c=Object(p.useContext)(m).loadCartItemsHandler,n=Object(p.useCallback)(Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.cart.retrieve();case 2:t=e.sent,c(t,!0);case 4:case"end":return e.stop()}}),e)}))),[c]);return Object(p.useEffect)((function(){n()}),[n]),Object(j.jsxs)(p.Fragment,{children:[Object(j.jsx)(_,{showCartBtn:!0}),Object(j.jsx)("main",{className:"mainContentLayout",children:Object(j.jsx)(ee,{productsArr:t})})]})};var ce=function(){var e=Object(p.useState)([]),t=Object(u.a)(e,2),c=t[0],n=t[1],a=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.products.list();case 2:t=e.sent,n(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.useEffect)((function(){a()}),[]),Object(j.jsx)(p.Fragment,{children:Object(j.jsxs)(O.c,{children:[Object(j.jsx)(O.a,{path:"/",exact:!0,element:Object(j.jsx)(te,{productsList:c})}),Object(j.jsx)(O.a,{path:"/checkout",element:Object(j.jsxs)(N,{children:[" ",Object(j.jsx)(q,{})," "]})}),Object(j.jsx)(O.a,{path:"/cart",element:Object(j.jsx)(U,{})})]})})};a.a.render(Object(j.jsx)(s.a,{children:Object(j.jsx)(b,{children:Object(j.jsx)(ce,{})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.2e7a7bea.chunk.js.map